<div class="max-w-screen-2xl">
  <h1 class="font-medium text-white text-start text-2xl">
    Recommended for you
  </h1>
  <div
    *ngIf="!(loading$ | async) && !(error$ | async)"
    class="grid md:grid-cols-4 sm:grid-cols-2 gap-x-10 gap-y-6 mt-10"
  >
    <div
      *ngFor="let movie of recommendedMovies$ | async"
      class="flex flex-col gap-6 cursor-pointer relative"
    >
      <img
        [src]="'https://image.tmdb.org/t/p/w500/' + movie.poster_path"
        alt="{{ movie.title }}"
        class="w-full h-72 object-cover rounded-xl"
      />
      <div class="flex flex-col mb-4">
        <div class="flex items-center space-x-4">
          <p class="text-sm text-grayLight font-bold">{{ movie.year }}</p>
          <div class="flex items-center space-x-2">
            <img
              src="../../../assets/icons/icon-category-movie.svg"
              alt="Movie"
              class="w-3 h-3"
            />
            <p class="text-sm text-grayLight">
              {{ movie.genre | slice : 0 : 10
              }}{{ movie.genre.length > 10 ? ".." : "" }}
            </p>
          </div>
          <p class="text-sm text-grayLight">{{ movie.rating }}</p>
        </div>
        <h2 class="font-bold text-2xl text-white">{{ movie.title }}</h2>
      </div>
      <button
        class="absolute top-4 right-5 p-3 rounded-full bg-grayDark bg-opacity-60"
      >
        <img
          src="../../../assets/icons/icon-bookmark-empty.svg"
          alt="Bookmark"
          class="w-4 h-4"
        />
      </button>
    </div>
  </div>
</div>

<!-- Loading Spinner -->
<div
  *ngIf="loading$ | async"
  class="loading-container flex items-center justify-center"
>
  <div class="loading-bar">
    <div class="wave"></div>
    <div class="wave"></div>
    <div class="wave"></div>
    <div class="wave"></div>
    <div class="wave"></div>
  </div>
</div>

<!-- Error Message -->
<div *ngIf="error$ | async as error" class="error-container">
  <p class="error-message">Error: {{ error }}</p>
</div>
